# 网络配置说明

## 当前遇到的问题
小程序出现 "Failed to fetch" 错误，可能的原因：

## 解决方案

### 1. 微信小程序开发工具设置
在微信开发者工具中：
1. 打开"详情" -> "本地设置"
2. 勾选"不校验合法域名、web-view（业务域名）、TLS 版本以及 HTTPS 证书"
3. 这样可以在开发环境中绕过域名白名单限制

### 2. 微信小程序管理后台配置（生产环境必需）
1. 登录微信小程序管理后台
2. 进入"开发" -> "开发管理" -> "开发设置"
3. 在"服务器域名"中添加：
   - request合法域名：`https://www.anteti.cn`
   - uploadFile合法域名：`https://www.anteti.cn`
   - downloadFile合法域名：`https://www.anteti.cn`

### 3. 当前项目配置
- API基础地址：`https://www.anteti.cn`
- 已在 `project.config.json` 中设置 `urlCheck: false`
- 请求超时时间：15秒

### 4. 网络诊断功能
项目中已添加了网络诊断功能：
- 自动检测网络连接状态
- 测试API服务器连通性
- 提供详细的错误信息和解决建议

## 测试步骤
1. 确保微信开发者工具中关闭了域名校验
2. 检查网络连接是否正常
3. 查看控制台输出的详细日志信息
4. 如果仍有问题，可能需要联系后端开发人员检查API服务状态